<app-alert-component [alertModel]="alertModel"></app-alert-component>

<!-- Show all information in pannels -->
<div class="row">
  <!-- Left column of panels -->
  <div class="col-sm-6">
    <app-volunteer-personal [volunteer]="volunteer"></app-volunteer-personal>

    <!-- Active -->
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h1 class="panel-title">
          <span data-toggle="collapse" data-target="#active-panel" class="glyphicon glyphicon-ok-sign"></span><a (click)="setNewInstance()">Actief</a>
        </h1>
      </div>
      <div id="active-panel" class="list-group collapse in">
        <a *ngFor="let instance of volunteer.volunteerInstanceValueObjects"
           (click)="setInstance(instance)" class="list-group-item">
          Van {{ instance.dateStart }} tot {{ instance.dateEnd }}.
        </a>
      </div>
    </div>

    <!-- Matches -->
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h1 class="panel-title"><span data-toggle="collapse" data-target="#matches-panel" class="glyphicon glyphicon-ok-sign"></span>Koppelingen</h1>
      </div>
      <div id="matches-panel" class="list-group collapse in">
        <a *ngFor="let match of volunteer.volunteerMatchValueObjects" class="list-group-item">Van {{ match.dateStart }} tot {{ match.dateEnd }} {{ match.studentExtId }}.</a>
      </div>
    </div>

    <!-- Tasks -->
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h1 class="panel-title"><span data-toggle="collapse" data-target="#task-panel" class="glyphicon glyphicon-pushpin">
        </span><a (click)="setNewTask()">Taken</a></h1>
      </div>
      <div id="task-panel" class="list-group collapse in">
        <ng-container *ngFor="let task of volunteer.taskValueObjects" >
        <a (click)="setTask(task)" *ngIf="task.isFinished == false" class="list-group-item">
          {{ task.dateToBeFinished }} | {{ task.title }}.</a>
        </ng-container>
      </div>
    </div>

    <!-- Log -->
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h1 class="panel-title"><span data-toggle="collapse" data-target="#log-panel" class="glyphicon glyphicon-user"></span>Logboek</h1>
      </div>

      <div id="log-panel" class="panel-body collapse in collapsible-text-panel">
        <div class="fix-collapse">
          <p>{{ volunteer.log }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Right column of panels -->
  <div class="col-sm-6">
    <app-task-add
      *ngIf="currentItemInstance === TASK_ADD" (onBackEmitter)="clear()"
      [(alertModel)]="alertModel" [volunteer]="volunteer" (didHttpRequest)="refresh()"></app-task-add>
    <app-task-edit
      *ngIf="currentItemInstance === TASK_EDIT" [(alertModel)]="alertModel" (onBackEmitter)="clear()"
      [prefillTask]="currentItem" [volunteer]="volunteer" (didHttpRequest)="refresh()"></app-task-edit>
    <app-volunteer-add-active
      *ngIf="currentItemInstance === INSTANCE_ADD" [volunteer]="volunteer" (didHttpRequest)="refresh()"
      (onBackEmitter)="clear()" [(alertModel)]="alertModel"></app-volunteer-add-active>
    <app-volunteer-edit-active
      *ngIf="currentItemInstance === INSTANCE_EDIT" [(volunteerInstanceModel)]="currentItem" (didHttpRequest)="refresh()"
      (onBackEmitter)="clear()" [(alertModel)]="alertModel" [volunteer]="volunteer"></app-volunteer-edit-active>
  </div>
</div>
